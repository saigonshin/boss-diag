<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è£ãƒœã‚¹è¨ºæ–­ | THE ABYSS</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Noto+Sans+JP:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050505;
            --card-bg: #121212;
            --accent-a: #4cc9f0; /* é™ã‹ãªã‚‹ï¼šé’ */
            --accent-b: #f72585; /* ã‚¯ã‚»å¼·ï¼šãƒ”ãƒ³ã‚¯/ç´« */
            --accent-c: #ffbe0b; /* äººãŸã‚‰ã—ï¼šã‚´ãƒ¼ãƒ«ãƒ‰ */
            --accent-d: #7209b7; /* é»’å¹•ï¼šæ¿ƒç´« */
            --text: #e0e0e0;
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Noto Sans JP', sans-serif;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow-x: hidden;
        }

        #app { width: 100%; max-width: 450px; padding: 25px; box-sizing: border-box; }

        /* ãƒ•ã‚§ãƒ¼ãƒ‰æ¼”å‡º */
        .fade-in { animation: fadeIn 0.6s forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ã‚¿ã‚¤ãƒˆãƒ« */
        h1 { font-family: 'Cinzel', serif; font-size: 1.8rem; color: #fff; text-align: center; letter-spacing: 3px; margin-bottom: 5px; }
        .sub-title { font-size: 0.8rem; text-align: center; color: #888; margin-bottom: 30px; }

        /* é€²è¡ŒçŠ¶æ³ */
        .progress-container { width: 100%; height: 2px; background: #222; margin-bottom: 40px; }
        .progress-bar { height: 100%; background: #fff; width: 0%; transition: 0.4s; box-shadow: 0 0 10px #fff; }

        /* è³ªå•ã‚«ãƒ¼ãƒ‰ */
        .question-text { font-size: 1.1rem; font-weight: 700; margin-bottom: 30px; line-height: 1.6; min-height: 3em; }
        .option-btn {
            display: block; width: 100%; padding: 18px; margin-bottom: 12px;
            background: var(--card-bg); border: 1px solid #333; color: var(--text);
            border-radius: 8px; font-size: 0.95rem; text-align: left; cursor: pointer;
            transition: all 0.2s;
        }
        .option-btn:active { background: #222; transform: scale(0.98); border-color: #666; }

        /* çµæœç”»é¢ï¼ˆã‚¹ã‚¯ã‚·ãƒ§ç”¨ã‚«ãƒ¼ãƒ‰ï¼‰ */
        .result-card {
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
            border: 1px solid #333; border-radius: 15px; padding: 30px 20px;
            text-align: center; position: relative; overflow: hidden;
        }
        .result-card::before {
            content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%);
        }
        .res-label { font-size: 0.75rem; color: #aaa; letter-spacing: 2px; margin-bottom: 10px; }
        .res-type { font-size: 1.6rem; font-weight: bold; margin-bottom: 20px; color: #fff; }
        .res-catch { font-size: 1.1rem; color: var(--accent-a); font-weight: bold; margin-bottom: 25px; padding: 10px; border-top: 1px solid #333; border-bottom: 1px solid #333; }
        .res-desc { font-size: 0.9rem; line-height: 1.8; text-align: left; color: #bbb; margin-bottom: 20px; }
        
        .hidden { display: none; }
        .btn-retry { background: none; border: 1px solid #555; color: #888; padding: 10px 20px; border-radius: 20px; margin-top: 30px; font-size: 0.8rem; cursor: pointer; }
    </style>
</head>
<body>

<div id="app">
    <div id="start-screen" class="fade-in">
        <h1>THE ABYSS</h1>
        <p class="sub-title">â€• ã‚ãªãŸã®è£ãƒœã‚¹ãªæ€§è³ª è¨ºæ–­ â€•</p>
        <div style="text-align: center; margin-top: 50px;">
            <p style="font-size: 0.9rem; line-height: 2; color: #bbb;">è¡¨ã§ã¯æ™®é€šã€‚<br>ã§ã‚‚ç‰©èªã®æœ€å¾Œã«åå‰ãŒå‡ºã‚‹ã®ã¯<br>ã“ã†ã„ã†äººã ã£ãŸã‚Šã—ã¾ã™ã€‚</p>
            <button class="option-btn" style="text-align: center; margin-top: 40px; border-color: #666;" onclick="start()">è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹</button>
        </div>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="progress-container"><div id="bar" class="progress-bar"></div></div>
        <div id="question-box" class="fade-in">
            <p class="question-text" id="q-text"></p>
            <div id="options"></div>
        </div>
    </div>

    <div id="result-screen" class="hidden fade-in">
        <div class="result-card" id="res-card">
            <p class="res-label">ğŸ˜ˆ è£ãƒœã‚¹è¨ºæ–­çµæœ</p>
            <div class="res-type" id="res-type"></div>
            <div class="res-catch" id="res-catch"></div>
            <div class="res-desc" id="res-desc"></div>
            <p style="font-size: 0.7rem; color: #555; margin-top: 20px;">â€»ã“ã®ã‚¿ã‚¤ãƒ—ã«ã¯ã¾ã è¡¨ã«å‡ºã—ã¦ã„ãªã„å´é¢ãŒã‚ã‚Šã¾ã™ã€‚</p>
        </div>
        <div style="text-align: center;">
            <button class="btn-retry" onclick="location.reload()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
        </div>
    </div>
</div>

<script>
    const questions = [
        { q: "Q1. ã‚°ãƒ«ãƒ¼ãƒ—ã§ä½•ã‹æ±ºã‚ã‚‹æ™‚ã€ã‚ãªãŸã¯ï¼Ÿ", opts: [{t:"ã¿ã‚“ãªã®æ„è¦‹ã‚’é™ã‹ã«èã", s:"A"}, {t:"é¢ç™½ã„æ¡ˆã‚’ãƒãƒ³ã¨å‡ºã™", s:"B"}, {t:"ã¾ã¨ã‚å½¹ã«ãªã‚‹ã“ã¨ãŒå¤šã„", s:"C"}, {t:"å®Ÿã¯è£ã§åˆ¥ãƒ«ãƒ¼ãƒˆã‚’è€ƒãˆã¦ã„ã‚‹", s:"D"}] },
        { q: "Q2. ãƒˆãƒ©ãƒ–ãƒ«ãŒèµ·ããŸã‚‰ï¼Ÿ", opts: [{t:"è¡¨æƒ…ã¯å¤‰ãˆãšã«å¯¾å‡¦ã™ã‚‹", s:"A"}, {t:"ã€Œã“ã‚Œãƒã‚¿ã«ãªã‚‹ãªã€ã¨æ€ã†", s:"B"}, {t:"å‘¨ã‚Šã‚’å®‰å¿ƒã•ã›ã‚‹", s:"C"}, {t:"åŸå› ã¨äººé–“é–¢ä¿‚ã‚’å³åˆ†æ", s:"D"}] },
        { q: "Q3. è¤’ã‚ã‚‰ã‚ŒãŸæ™‚ã®æœ¬éŸ³ã¯ï¼Ÿ", opts: [{t:"ï¼ˆå†…å¿ƒï¼‰æƒ³å®šé€šã‚Š", s:"A"}, {t:"ï¼ˆå†…å¿ƒï¼‰ã‚‚ã£ã¨è©•ä¾¡ã•ã‚Œã¦ã‚‚ã„ã„", s:"B"}, {t:"ï¼ˆå†…å¿ƒï¼‰ã¿ã‚“ãªã®ãŠã‹ã’", s:"C"}, {t:"ï¼ˆå†…å¿ƒï¼‰ã¾ã æœ¬æ°—å‡ºã—ã¦ãªã„", s:"D"}] },
        { q: "Q4. ä¼‘æ—¥ã®éã”ã—æ–¹ã¯ï¼Ÿ", opts: [{t:"1äººã§è€ƒãˆäº‹ãƒ»ã‚¤ãƒ³ãƒ—ãƒƒãƒˆ", s:"A"}, {t:"å¥½ããªã“ã¨ã«æ²¡é ­", s:"B"}, {t:"äººã¨ä¼šã†ãƒ»èª°ã‹ã¨è©±ã™", s:"C"}, {t:"ä½•ã‹ã‚’ä»•è¾¼ã‚“ã§ã„ã‚‹", s:"D"}] },
        { q: "Q5. ç‰©èªã«å‡ºã‚‹ãªã‚‰ï¼Ÿ", opts: [{t:"æœ€å¾Œã«æ­£ä½“ãŒæ˜ã‹ã•ã‚Œã‚‹äººç‰©", s:"A"}, {t:"å¤©æ‰ã ã‘ã©å¤‰äºº", s:"B"}, {t:"ç‹æ§˜ãƒ»ãƒªãƒ¼ãƒ€ãƒ¼", s:"C"}, {t:"é»’å¹•ãƒ»å‚è¬€", s:"D"}] },
        { q: "Q6. è‡ªåˆ†ã§ã‚‚ã€Œå„ä»‹ã ãªã€ã¨æ€ã†ã¨ã“ã‚ã¯ï¼Ÿ", opts: [{t:"æ„Ÿæƒ…ã‚’è¡¨ã«å‡ºã•ãªã„", s:"A"}, {t:"æ€è€ƒãŒé£›ã³ã™ãã‚‹", s:"B"}, {t:"äººã‚’æ°—ã«ã—ã™ãã‚‹", s:"C"}, {t:"å…ˆã‚’èª­ã¿ã™ãã‚‹", s:"D"}] },
        { q: "Q7. ç„¡æ„è­˜ã«ã‚„ã£ã¦ã—ã¾ã†ã®ã¯ï¼Ÿ", opts: [{t:"å…¨ä½“ã‚’ä¿¯ç°ã—ã¦ã—ã¾ã†", s:"A"}, {t:"å¸¸è­˜ã‚’ç–‘ã£ã¦ã—ã¾ã†", s:"B"}, {t:"ç©ºæ°—ã‚’æ•´ãˆã¦ã—ã¾ã†", s:"C"}, {t:"å‹ã¡ç­‹ã‚’æ¢ã—ã¦ã—ã¾ã†", s:"D"}] }
    ];

    const results = {
        A: { title: "é™ã‹ãªã‚‹è£ãƒœã‚¹å‹", catch: "ä½•ã‚‚ã—ã¦ãªã„ã‚ˆã†ã§ã€å…¨éƒ¨è¦‹ã¦ã‚‹äºº", desc: "å†·é™æ²ˆç€ã€‚æ„Ÿæƒ…ã«æµã•ã‚Œãšå…¨ä½“ã‚’ä¿¯ç°ã—ã¦ã„ã¾ã™ã€‚ç‰©èªã®æœ€å¾Œã«ã€Œå®Ÿã¯ã“ã®äººãŒå…¨éƒ¨ã‚ã‹ã£ã¦ã„ãŸã€ã¨æ˜ã‹ã•ã‚Œã‚‹ã€æœ€ã‚‚ä¸æ°—å‘³ã§ä¸å¯æ¬ ãªå­˜åœ¨ã§ã™ã€‚", color: "#4cc9f0" },
        B: { title: "ã‚¯ã‚»å¼·ãƒ»å¤©æ‰è£ãƒœã‚¹å‹", catch: "å¤‰äººæ‰±ã„ã•ã‚ŒãŒã¡ã ãŒã€å®Ÿã¯æœ€å¼·", desc: "ç™ºæƒ³ãŒç‹¬ç‰¹ã§ã€å‘¨å›²ã‹ã‚‰ã¯ã‚ºãƒ¬ã¦ã„ã‚‹ã¨æ€ã‚ã‚ŒãŒã¡ã€‚ã—ã‹ã—ã€ãã®æ€è€ƒã¯å¸¸äººã‚’è¶…è¶Šã—ã¦ãŠã‚Šã€ä¸€ç•ªé‡è¦ãªå±€é¢ã§ä¸–ç•Œã‚’ã²ã£ãã‚Šè¿”ã™åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚", color: "#f72585" },
        C: { title: "äººãŸã‚‰ã—è£ãƒœã‚¹å‹", catch: "æ°—ã¥ã„ãŸã‚‰ä¸­å¿ƒã«ã„ã‚‹äºº", desc: "è‡ªç„¶ã¨ç©ºæ°—ã‚’æ”¯é…ã—ã€äººã«å¥½ã‹ã‚Œã‚‹ã‚«ãƒªã‚¹ãƒã€‚ç‹ã‚„ãƒªãƒ¼ãƒ€ãƒ¼ã«è¦‹ãˆã¦ã€å®Ÿã¯è£å´ã‹ã‚‰ã™ã¹ã¦ã‚’æŒæ¡ã—ã¦ã„ã‚‹ã€ã‚ã‚‹æ„å‘³ã§æœ€ã‚‚æã‚ã—ã„ã‚¿ã‚¤ãƒ—ã§ã™ã€‚", color: "#ffbe0b" },
        D: { title: "é»’å¹•ãƒ»ç­–å£«è£ãƒœã‚¹å‹", catch: "é¸ã°ã›ã¦ã‚‹ã‚ˆã†ã§ã€é¸ã°ã›ã¦ãªã„", desc: "ä¸€æ‰‹å…ˆã‚’èª­ã¿ã€å‹ã¡ç­‹ã‚’ä½œã‚‹å¤©æ‰ã€‚ä»–äººã«é¸æŠè‚¢ã‚’ä¸ãˆã¦ã„ã‚‹ã‚ˆã†ã§ã€å®Ÿã¯ã™ã§ã«ã‚ãªãŸã®ç›¤é¢ã¯å®Œæˆã—ã¦ã„ã¾ã™ã€‚ã™ã¹ã¦ã¯è¨ˆç”»é€šã‚Šã§ã™ã€‚", color: "#7209b7" }
    };

    let currentQ = 0;
    let score = {A:0, B:0, C:0, D:0};

    function start() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questions[currentQ];
        document.getElementById('q-text').innerText = q.q;
        const optContainer = document.getElementById('options');
        optContainer.innerHTML = '';
        
        q.opts.forEach(o => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = o.t;
            btn.onclick = () => select(o.s);
            optContainer.appendChild(btn);
        });

        document.getElementById('bar').style.width = ((currentQ / questions.length) * 100) + '%';
    }

    function select(s) {
        score[s]++;
        currentQ++;
        if(currentQ < questions.length) {
            renderQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');

        // é›†è¨ˆ
        const maxScore = Math.max(...Object.values(score));
        const winners = Object.keys(score).filter(k => score[k] === maxScore);
        
        let finalType;
        if(winners.length > 1) {
            // è¤‡åˆå‹
            finalType = {
                title: "è¤‡åˆå‹è£ãƒœã‚¹",
                catch: "è¡¨ã®æœ¬æ€§ã¨ã€è£ã®æ€§è³ªã®ã‚ºãƒ¬",
                desc: "ã‚ãªãŸã¯å˜ä¸€ã‚¿ã‚¤ãƒ—ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è¤‡æ•°ã®æ€§è³ªãŒæ··ã–ã‚Šåˆã„ã€æ­£ä½“ãŒã¤ã‹ã‚ãªã„ã€ŒçœŸã®è£ãƒœã‚¹æ„Ÿã€ã‚’é†¸ã—å‡ºã—ã¦ã„ã¾ã™ã€‚",
                color: "#ffffff"
            };
        } else {
            finalType = results[winners[0]];
        }

        document.getElementById('res-type').innerText = "ã€" + finalType.title + "ã€‘";
        document.getElementById('res-catch').innerText = "ğŸ‘‰ " + finalType.catch;
        document.getElementById('res-desc').innerText = finalType.desc;
        document.getElementById('res-catch').style.color = finalType.color;
        document.getElementById('res-card').style.borderColor = finalType.color;
    }
</script>
</body>
</html>
